package main

import (
	"context"
	"encoding/json"
	"fmt"
	"log"

	"google.golang.org/api/idtoken"
)

func main() {
	tokenString := "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY1ZjRiZjQ2ZTUyYjMxZDliNjI0OWY3MzA5YWQwMzM4NDAwNjgwY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI5NjU0Mzc3MzUxNTAtYmJybm80anYxbGViNnAwYm1uaWFzbDMyYWsydXJkYjUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI5NjU0Mzc3MzUxNTAtYmJybm80anYxbGViNnAwYm1uaWFzbDMyYWsydXJkYjUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDcyNDM3NjQ4NzE4MTU0MDUxNjIiLCJlbWFpbCI6InBkY2RldmVsb3BlZEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmJmIjoxNjk5NDE4MTkzLCJuYW1lIjoicGRjb2tlIGRvdGtvbSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS9BQ2c4b2NKNjZ5aFA3a0VlNTYxQl9Cd0RkV0sxMVNCdENWQjZRYkxuY0tVNWJXU3k9czk2LWMiLCJnaXZlbl9uYW1lIjoicGRjb2tlIiwiZmFtaWx5X25hbWUiOiJkb3Rrb20iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5OTQxODQ5MywiZXhwIjoxNjk5NDIyMDkzLCJqdGkiOiIxYTcwMDc2ODEyMDFkNmIxNTYyNzVjNDE0OTVlYzlhZDMxYzZlNGIyIn0.euZ393u7oh2avhUHWrJmtrsyv7MWjwr5bfeWJNrMHGgXg1LEXePi6Dbor6agtArypJ8K8xuPetuo1BIjfkjq9QiRcxGh4JjwBqYbkTLOPHxacEv4iXE97XLeRGXVsYSwF0QZI9Jfm4y_3uzS_-jlAiAUSQ2eAvTlY2rKXpfdbn37NFE4fbzTQCLanhShC-GE_4nJ5YGGad9J-1sKCG2IwvakNKH6b9ujSjdgksv-Gy75_EDUb_MzNfRPQxJuGLKP7RUXdw-1koDGj0bRX7p14QkaQI5OsrgeGRAmERZQPuRc-5is379Fz3hcdnhHMQ43riTLg2sc8ecZfc7IK0gKoA"
	payload, err := idtoken.Validate(context.Background(), tokenString, "965437735150-bbrno4jv1leb6p0bmniasl32ak2urdb5.apps.googleusercontent.com")
	if err != nil {
		panic(err)
	}

	data, _ := json.Marshal(payload.Claims)
	log.Println(string(data))

	fmt.Print(payload.Claims)
}
